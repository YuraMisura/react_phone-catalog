(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(33).concat([function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/logo.c9417692.svg"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/heart_like.a95dd00f.svg"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/shopping_bag.9d5d0d40.svg"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/arrow.81f93ebb.svg"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/close_icon.815681be.svg"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/search_icon.eb670dd9.svg"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/favourites_like.d554a185.svg"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/home_icon.d4c29e4f.svg"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/icon_plus.5dd42d1d.svg"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/icon_minus_active.cecb4be3.svg"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/icon_minus_not_active.cecb4be3.svg"},,function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/banner-tablets.a962057c.png"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/banner-phones.b4eeda8b.png"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/banner-accessories.bdd2e0fc.png"},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var s=c(26),a=c.n(s),n=c(6),i=c(3),r=c(4),l=c(1),o=c.n(l),d=c(12),j=c.n(d),b={logo:c(33).default,favourites:c(34).default,shopping_bag:c(35).default,arrow:c(36).default,close_icon:c(37).default,search_icon:c(38).default,favourites_like:c(39).default,home_icon:c(40).default,icon_plus:c(41).default,icon_minus_active:c(42).default,icon_minus_not_active:c(43).default},u=c(9),h=c.n(u),m=function(e){var t=e.isActive;return h()("nav__link",{"nav__link--is-active":t})},p=function(e){var t=e.isActive;return h()({"header__img-contain--is-active":t})},_=c(10),O=c(11),x=c(7),v=c(5),g=c.n(v),N={bannerTablet:c(45).default,bannerPhones:c(46).default,bannerAccessories:c(47).default},f="https://mate-academy.github.io/react_phone-catalog/_new/",y=272,k=4,C=1,w=1e3,S=!0,A=16,T=[{id:"age",title:"Newest"},{id:"name",title:"Alphabetically"},{id:"price",title:"Cheapest"}],E=[{id:"4",title:"4"},{id:"8",title:"8"},{id:"16",title:"16"},{id:"all",title:"All"}],P={black:"#1F2020",coral:"#EE7762",gold:"#F9E5C9",green:"#AEE1CD",midnightgreen:"#004953",purple:"#e5ddea",red:"#BA0C2E",rosegold:"#E6C7C2",silver:"#e2e4e1",spacegray:"#535150",white:"#F8F7F2",yellow:"#F3D060"},L=[{id:1,src:N.bannerTablet,alt:"Tablets"},{id:2,src:N.bannerPhones,alt:"Phones"},{id:3,src:N.bannerAccessories,alt:"Accessories"}];function F(e){return new Promise((function(t){setTimeout(t,e)}))}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s={method:t};return c&&(s.body=JSON.stringify(c),s.headers={"Content-Type":"application/json; charset=UTF-8"}),F(300).then((function(){return fetch(f+e,s)})).then((function(e){if(!e.ok)throw new Error;return e.json()}))}var B=function(e){return q(e)};var I=c(0),M=o.a.createContext({products:[],hasError:"",setProducts:function(){},localStore:[],setLocalStore:function(){},setHasError:function(){},handleChooseCart:function(){}}),D=function(e){var t=e.children,c=Object(l.useState)([]),s=Object(r.a)(c,2),a=s[0],n=s[1],i=function(e,t){var c=Object(l.useState)((function(){var c=localStorage.getItem(e);if(null===c)return t;try{return JSON.parse(c)}catch(s){return localStorage.removeItem(e),t}})),s=Object(r.a)(c,2),a=s[0],n=s[1];return[a,function(t){localStorage.setItem(e,JSON.stringify(t)),n(t)}]}("products",[]),o=Object(r.a)(i,2),d=o[0],j=o[1],b=Object(l.useState)(""),u=Object(r.a)(b,2),h=u[0],m=u[1];Object(l.useEffect)((function(){var e=function(){var e=Object(x.a)(g.a.mark((function e(){var t,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(""),e.prev=1,e.next=4,B("/products.json");case 4:t=e.sent,c=t.map((function(e){var t=d.find((function(t){return e.id===t.id}));return t||Object(O.a)(Object(O.a)({},e),{},{inFavourite:!1,inCart:!1,discount:e.fullPrice-e.price,quantity:1})})),n(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),m("Something went wrong");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var p={hasError:h,products:a,setProducts:n,localStore:d,setLocalStore:j,setHasError:m,handleChooseCart:function(e,t){var c=Object(_.a)(a),s=Object(_.a)(d),i=Object(O.a)({},e);if("addCard"===t&&(i=Object(O.a)(Object(O.a)({},e),{},{inCart:!e.inCart})),"favourites"===t&&(i=Object(O.a)(Object(O.a)({},e),{},{inFavourite:!e.inFavourite})),"delete"===t&&(i=Object(O.a)(Object(O.a)({},e),{},{inCart:!1})),"addQuantity"===t&&(i=Object(O.a)(Object(O.a)({},e),{},{quantity:i.quantity+1})),"deleteQuantity"===t&&(i=Object(O.a)(Object(O.a)({},e),{},{quantity:i.quantity-1})),i.inCart||i.inFavourite){var r=s.findIndex((function(t){return t.id===e.id}));-1!==r?s.splice(r,1,i):s=[].concat(Object(_.a)(s),[i])}else s=s.filter((function(e){return e.id!==i.id}));var l=c.findIndex((function(t){return t.id===e.id}));c.splice(l,1,i),n(c),j(s)}};return Object(I.jsx)(M.Provider,{value:p,children:t})};var R=function(e){return e.filter((function(e){return e.inCart}))},H=function(e){return e.filter((function(e){return e.inFavourite}))};function Y(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(r.a)(e,2),s=t[0],a=t[1];null===a?c.delete(s):Array.isArray(a)?(c.delete(s),a.forEach((function(e){c.append(s,e)}))):c.set(s,a)})),c.toString()}c(49);var $=function(){var e=Object(i.n)().pathname,t=Object(n.d)(),c=Object(r.a)(t,2),s=c[0],a=c[1],o=s.get("query")||"",d=Object(l.useState)(""),u=Object(r.a)(d,2),h=u[0],_=u[1],O=Object(l.useContext)(M).localStore,x=R(O),v=H(O),g=Object(l.useState)(!1),N=Object(r.a)(g,2),f=N[0],y=N[1],k=Object(l.useState)(""),C=Object(r.a)(k,2),w=C[0],S=C[1];Object(l.useEffect)((function(){switch(_(o),e){case"/phones":y(!0),S("Search in phones...");break;case"/tablets":y(!0),S("Search in tablets...");break;case"/accessories":y(!0),S("Search in accessories...");break;case"/favourites":y(!0),S("Search in favourites...");break;default:y(!1)}}),[e]);var A=j()((function(e){var t=Y(s,{query:e||null});a(t)}),1e3);return Object(I.jsxs)("header",{className:"header",children:[Object(I.jsx)("div",{className:"header__left-side",children:Object(I.jsx)("nav",{className:"nav",children:Object(I.jsxs)("ul",{className:"nav__list",children:[Object(I.jsx)("li",{className:"nav__item",children:Object(I.jsx)("div",{className:"logo",children:Object(I.jsx)(n.b,{to:"/",children:Object(I.jsx)("img",{src:b.logo,alt:"Logo",className:"logo__img"})})})}),Object(I.jsx)("li",{className:"nav__item",children:Object(I.jsx)(n.c,{to:"/",className:m,children:"HOME"})}),Object(I.jsx)("li",{className:"nav__item",children:Object(I.jsx)(n.c,{to:"/phones",className:m,children:"PHONES"})}),Object(I.jsx)("li",{className:"nav__item",children:Object(I.jsx)(n.c,{to:"/tablets",className:m,children:"TABLETS"})}),Object(I.jsx)("li",{className:"nav__item",children:Object(I.jsx)(n.c,{to:"/accessories",className:m,children:"ACCESSORIES"})})]})})}),Object(I.jsxs)("div",{className:"header__right-side",children:[f&&Object(I.jsxs)("div",{className:"header__search",children:[Object(I.jsx)("input",{type:"text",className:"header__search-input",placeholder:w,value:h,onChange:function(e){var t=e.currentTarget.value;_(t),A(t)}}),Object(I.jsx)("button",{type:"button",className:"button button--clear",onClick:function(){return function(){var e=Y(s,{query:null});a(e),_("")}()},children:h?Object(I.jsx)("img",{src:b.close_icon,alt:"Clear search","data-cy":"searchDelete",className:"icon icon--hover"}):Object(I.jsx)("img",{src:b.search_icon,alt:"Icon search",className:"icon icon--hover"})})]}),Object(I.jsxs)("div",{className:"header__icon-box",children:[Object(I.jsx)(n.c,{to:"/favourites",className:p,children:Object(I.jsxs)("div",{className:"header__img-contain header__img-contain--relative",children:[Object(I.jsx)("img",{src:b.favourites,alt:"favourites items",className:"icon icon--hover"}),!!v.length&&Object(I.jsx)("div",{className:"icon icon--count",children:v.length})]})}),Object(I.jsx)(n.c,{to:"/cart",className:p,children:Object(I.jsxs)("div",{className:"header__img-contain header__img-contain--relative",children:[Object(I.jsx)("img",{src:b.shopping_bag,alt:"My choice",className:"icon icon--hover"}),!!x.length&&Object(I.jsx)("div",{className:"icon icon--count",children:x.length})]})})]})]})]})},J=(c(50),function(){return Object(I.jsx)("footer",{className:"footer",children:Object(I.jsx)("div",{className:"container",children:Object(I.jsxs)("div",{className:"footer__wrap",children:[Object(I.jsx)("div",{className:"logo",children:Object(I.jsx)(n.b,{to:"/",children:Object(I.jsx)("img",{src:b.logo,alt:"Logo",className:"logo__img"})})}),Object(I.jsx)("div",{className:"footer-nav",children:Object(I.jsx)("nav",{className:"nav",children:Object(I.jsxs)("ul",{className:"nav__list",children:[Object(I.jsx)("li",{className:"nav__item",children:Object(I.jsx)(n.c,{to:"https://github.com/YuraMisura/react_phone-catalog",className:m,children:"GITHUB"})}),Object(I.jsx)("li",{className:"nav__item",children:Object(I.jsx)(n.c,{to:"/contacts",className:m,children:"CONTACTS"})}),Object(I.jsx)("li",{className:"nav__item",children:Object(I.jsx)(n.c,{to:"/rights",className:m,children:"RIGHTS"})})]})})}),Object(I.jsxs)("div",{className:"footer__button",children:[Object(I.jsx)("p",{className:"footer__button-text",children:"Back to top"}),Object(I.jsx)("button",{type:"button",className:"button button--direction button--hover",onClick:function(){window.scrollTo({top:0})},children:Object(I.jsx)("img",{src:b.arrow,alt:"Back to top"})})]})]})})})}),Q=(c(51),function(){return Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)($,{}),Object(I.jsx)("main",{className:"main",children:Object(I.jsx)(i.a,{})}),Object(I.jsx)(J,{})]})}),G=(c(52),function(){var e=Object(l.useState)(0),t=Object(r.a)(e,2),c=t[0],s=t[1];Object(l.useEffect)((function(){var e=setInterval((function(){s((function(e){return(e+1)%L.length}))}),5e3);return function(){return clearInterval(e)}}),[L.length]);return Object(I.jsxs)("section",{className:"picture-slider",children:[Object(I.jsxs)("div",{className:"picture-slider__container",children:[Object(I.jsx)("button",{type:"button",className:"button button--hover button--slider",onClick:function(){s((function(e){return 0===e?L.length-1:e-1}))},children:Object(I.jsx)("img",{src:b.arrow,alt:"Back to top",className:"icon icon--left"})}),Object(I.jsx)("div",{className:"picture-slider__images-container",children:L.map((function(e,t){return Object(I.jsx)("img",{src:e.src,alt:"Slider of ".concat(e.alt),style:{opacity:t===c?1:0},className:"picture-slider__slider-image"},e.id)}))}),Object(I.jsx)("button",{type:"button",className:"button button--hover button--slider",onClick:function(){s((function(e){return(e+1)%L.length}))},children:Object(I.jsx)("img",{src:b.arrow,alt:"Back to top",className:"icon icon--right"})})]}),Object(I.jsx)("ul",{className:"picture-slider__dots",children:L.map((function(e,t){return Object(I.jsx)("li",{className:"picture-slider__dot-container",children:Object(I.jsx)("div",{className:h()("picture-slider__dot",{"picture-slider__dot--active":t===c})})},e.id)}))})]})}),U=(c(53),Object(l.memo)((function(e){var t=e.product,c=Object(n.d)(),s=Object(r.a)(c,1)[0],a=t.phoneId,i=t.discount,o=t.image,d=t.name,j=t.price,u=t.fullPrice,m=t.screen,p=t.capacity,_=t.ram,O=t.inCart,x=t.inFavourite,v=Object(l.useContext)(M).handleChooseCart;return Object(I.jsxs)("div",{className:"card","data-qa":"card",children:[Object(I.jsx)(n.b,{to:"/phones/".concat(a),state:{search:s.toString()},children:Object(I.jsx)("img",{src:"https://mate-academy.github.io/react_phone-catalog/_new/".concat(o),alt:d,className:"card__img"})}),Object(I.jsxs)("div",{className:"card__info",children:[Object(I.jsxs)(n.b,{to:"/phones/".concat(a),state:{search:s.toString()},children:[Object(I.jsx)("p",{className:"card__title",children:d}),Object(I.jsxs)("div",{className:"card__price",children:[Object(I.jsx)("p",{className:"card__price-new",children:"$".concat(j)}),i&&Object(I.jsx)("p",{className:"card__price-old",children:Object(I.jsx)("s",{children:"$".concat(u)})})]}),Object(I.jsx)("div",{className:"card__line"}),Object(I.jsxs)("div",{className:"card__specs",children:[Object(I.jsxs)("div",{className:"card__specs-box",children:[Object(I.jsx)("p",{className:"card__specs-title",children:"Screen"}),Object(I.jsx)("p",{className:"card__specs-details",children:m})]}),Object(I.jsxs)("div",{className:"card__specs-box",children:[Object(I.jsx)("p",{className:"card__specs-title",children:"Capacity"}),Object(I.jsx)("p",{className:"card__specs-details",children:p})]}),Object(I.jsxs)("div",{className:"card__specs-box",children:[Object(I.jsx)("p",{className:"card__specs-title",children:"RAM"}),Object(I.jsx)("p",{className:"card__specs-details",children:_})]})]})]}),Object(I.jsx)("div",{className:"card__btns",children:Object(I.jsxs)("div",{className:"card__btns-container",children:[Object(I.jsx)("button",{type:"button",className:h()("button button--big button--card",{"button--selected":O}),onClick:function(){return v(t,"addCard")},children:Object(I.jsx)("p",{className:"button__text",children:O?"You`ve added":"Added to cart"})}),Object(I.jsx)("button",{type:"button",className:"button button--favourites button--hover",onClick:function(){return v(t,"favourites")},children:Object(I.jsx)("img",{alt:"favourites",src:x?b.favourites_like:b.favourites,className:"icon icon--hover"})})]})})]})]})}))),z=(c(54),function(e){var t=e.items,c=e.sliderTitle,s=Object(l.useState)(0),a=Object(r.a)(s,2),n=a[0],i=a[1],o=y,d=k,j=C,u=w,h=S,m=A,p={transform:"translateX(-".concat(n*(o+m),"px)"),transition:"".concat(u,"ms"),gap:"".concat(m,"px")},_=n<=0&&!h,O=n>t.length-d-j&&!h;return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:"slider-section",style:{width:"".concat(d*o+m*(d-1),"px")},children:[Object(I.jsxs)("div",{className:"slider-section__wrap",children:[Object(I.jsx)("h2",{className:"title title--h2",children:c}),Object(I.jsxs)("div",{className:"slider-section__change-direction",children:[Object(I.jsx)("button",{type:"button",className:"button button--direction button--hover",onClick:function(){var e=n-1<0;i(e&&!h?0:e&&h?t.length-d:n-j)},disabled:_,children:Object(I.jsx)("img",{src:b.arrow,alt:"move left",className:"icon icon--left"})}),Object(I.jsx)("button",{type:"button",className:"button button--direction button--hover",disabled:O,onClick:function(){var e=n+j>=t.length-d;i(e&&!h?t.length-d:e&&h?0:n+j)},children:Object(I.jsx)("img",{src:b.arrow,alt:"move right",className:"icon icon--right"})})]})]}),Object(I.jsx)("div",{className:"slider-section__cards-container","data-cy":"cardsContainer",children:Object(I.jsx)("ul",{className:"slider-section__list",style:p,children:t.map((function(e){return Object(I.jsx)("li",{children:Object(I.jsx)(U,{product:e},e.id)},e.id)}))})})]})})}),W=o.a.memo(z),X=function(){var e=Object(l.useContext)(M).products,t=Object(l.useMemo)((function(){return function(e){return e.filter((function(e){return e.discount>0})).sort((function(e,t){return t.discount-e.discount}))}(e)}),[e]);return Object(I.jsx)("section",{className:"hot-price",children:Object(I.jsx)(W,{items:t,sliderTitle:"Hot prices"})})},Z=function(){var e=Object(l.useContext)(M).products,t=Object(l.useMemo)((function(){return function(e){return e.sort((function(e,t){return t.fullPrice-e.fullPrice}))}(e)}),[e]);return Object(I.jsx)("section",{className:"brand-new",children:Object(I.jsx)(W,{items:t,sliderTitle:"Brand new models"})})},K=(c(55),function(){var e=Object(l.useContext)(M).products,t=e.filter((function(e){return"tablets"===e.category})).length,c=e.filter((function(e){return"accessories"===e.category})).length;return Object(I.jsxs)("section",{className:"category",children:[Object(I.jsx)("h2",{className:"title title--h2",children:"Shop by category"}),Object(I.jsxs)("div",{className:"category__container","data-cy":"categoryLinksContainer",children:[Object(I.jsx)("div",{className:"category__wrap-link",children:Object(I.jsxs)(n.b,{to:"/phones",className:"category__link",children:[Object(I.jsx)("div",{className:"category__img category__img--phones"}),Object(I.jsx)("h3",{className:"category__title",children:"Mobile phones"}),Object(I.jsx)("span",{className:"category__info",children:"".concat(e.length||"No"," models")})]})}),Object(I.jsx)("div",{className:"category__wrap-link",children:Object(I.jsxs)(n.b,{to:"/tablets",className:"category__link",children:[Object(I.jsx)("div",{className:"category__img category__img--tablets"}),Object(I.jsx)("h3",{className:"category__title",children:"Tablets"}),Object(I.jsx)("span",{className:"category__info",children:"".concat(t||"No"," models")})]})}),Object(I.jsx)("div",{className:"category__wrap-link",children:Object(I.jsxs)(n.b,{to:"/accessories",className:"category__link",children:[Object(I.jsx)("div",{className:"category__img category__img--accessories"}),Object(I.jsx)("h3",{className:"category__title",children:"Accessories"}),Object(I.jsx)("span",{className:"category__info",children:"".concat(c||"No"," models")})]})})]})]})}),V=function(){return Object(I.jsx)("div",{className:"container",children:Object(I.jsxs)("div",{className:"home-page App__home-page",children:[Object(I.jsx)(G,{}),Object(I.jsx)(X,{}),Object(I.jsx)(Z,{}),Object(I.jsx)(K,{})]})})},ee=(c(56),function(){return Object(I.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(I.jsx)("div",{className:"Loader__content"})})}),te=c(8),ce=c(27),se=["children","params"],ae=function(e){var t=e.children,c=e.params,s=Object(ce.a)(e,se),a=Object(n.d)(),i=Object(r.a)(a,1)[0];return Object(I.jsx)(n.b,Object(O.a)(Object(O.a)({to:{search:Y(i,c)}},s),{},{children:t}))},ne=(c(57),o.a.memo((function(e){var t,c=e.title,s=e.option,a=e.DATA,n=e.paramName,i=Object(l.useState)(!1),o=Object(r.a)(i,2),d=o[0],j=o[1];return Object(I.jsxs)("div",{className:"dropdown-box",children:[Object(I.jsx)("p",{className:"dropdown-box__title",children:c}),Object(I.jsxs)("div",{className:h()("dropdown",{"dropdown__is-active":d}),children:[Object(I.jsx)("div",{className:"dropdown-trigger",children:Object(I.jsxs)("button",{type:"button",className:h()("button button--dropdown",{"button--dropdown-small":"perPage"===n}),"aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:function(){return j(!d)},children:[Object(I.jsx)("span",{className:"button__text",children:null===(t=a.find((function(e){return e.id===s})))||void 0===t?void 0:t.title}),Object(I.jsx)("img",{src:b.arrow,alt:"Dropdown close",className:h()("icon",{"icon--down":!d})})]})}),Object(I.jsx)("div",{className:h()("dropdown__menu",{"dropdown__menu--small":"perPage"===n}),children:Object(I.jsx)("div",{className:"dropdown__content",children:a.map((function(e){var t;return Object(I.jsx)(ae,{params:(t={},Object(te.a)(t,n,e.id||null),Object(te.a)(t,"page","1"),t),onClick:function(){j(!1)},className:"dropdown__item",children:e.title},e.id)}))})})]})]})}))),ie=(c(58),function(e){var t=e.phones;return Object(I.jsx)(I.Fragment,{children:t.map((function(e){return Object(I.jsx)(U,{product:e},e.id)}))})});c(59);var re=o.a.memo((function(e){var t=e.total,c=e.perPage,s=e.currentPage,a=Math.ceil(t>0&&c>0?t/c:1),n=function(e,t){for(var c=[],s=e;s<=t;s+=1)c.push(s);return c}(1,a),i=1===s,r=s===a;return Object(I.jsxs)("ul",{className:"pagination",children:[Object(I.jsx)("li",{children:Object(I.jsx)(ae,{"data-cy":"prevLink",params:i?{}:{page:(s-1).toString()},className:h()("pagination__link",{"pagination__link--disabled":i}),"aria-disabled":i,children:Object(I.jsx)("img",{src:b.arrow,alt:"arrow left",className:"icon icon--left"})})}),Object(I.jsx)("div",{className:"pagination__numbers",children:n.map((function(e){return Object(I.jsx)("li",{children:Object(I.jsx)(ae,{"data-cy":"pageLink",className:h()("pagination__link pagination__link--number",{"pagination__link--selected":e===s}),params:{page:e.toString()},children:e})},e)}))}),Object(I.jsx)("li",{children:Object(I.jsx)(ae,{"data-cy":"nextLink",className:h()("pagination__link",{"pagination__link--disabled":r}),params:r?{}:{page:(s+1).toString()},"aria-disabled":r,children:Object(I.jsx)("img",{src:b.arrow,alt:"arrow left",className:"icon icon--right"})})})]})}));var le=function(){return Object(I.jsx)("h2",{className:"title title--h2",children:"There are no phones matching the current search criteria"})},oe=function(){var e=Object(n.d)(),t=Object(r.a)(e,1)[0],c=Object(l.useContext)(M).products,s=Object(l.useState)(!1),a=Object(r.a)(s,2),i=a[0],o=a[1],d=t.get("query")||"",j=t.get("sortBy")||T[0].id,u=t.get("perPage")||E[1].id,h=+(t.get("page")||"1"),m=Object(l.useRef)(0);Object(l.useEffect)((function(){o(!0),window.clearTimeout(m.current),m.current=window.setTimeout((function(){o(!1)}),1e3)}),[d]);var p=function(e,t){var c=t.sortBy,s=t.query,a=Object(_.a)(e);switch(c){case"name":a.sort((function(e,t){return e.name.localeCompare(t.name)}));break;case"price":a.sort((function(e,t){return e.fullPrice-t.fullPrice}));break;default:a.sort((function(e,t){return t.year-e.year}))}return s&&(a=a.filter((function(e){return e.name.toLocaleLowerCase().includes(s)}))),a}(c,{sortBy:j,query:d}),O=p.length,x=h*+u-+u,v=Math.min(+x+ +u,O);return Object(I.jsx)("div",{className:"container",children:Object(I.jsxs)("div",{className:"phones-page App__phones-page",children:[Object(I.jsxs)("div",{className:"page-navigation",children:[Object(I.jsx)(n.b,{to:"/",className:"page-navigation__link",children:Object(I.jsx)("img",{src:b.home_icon,alt:"to home page",className:"icon"})}),Object(I.jsx)("img",{src:b.arrow,alt:"icon",className:"icon icon--right"}),Object(I.jsx)("p",{className:"page-navigation__text",children:"Phones"})]}),Object(I.jsxs)("div",{className:"phones-page__title",children:[Object(I.jsx)("h1",{className:"title title--h1",children:"Mobile phones"}),Object(I.jsx)("p",{className:"phones-page__info",children:"".concat(p.length," models")})]}),Object(I.jsxs)("div",{className:"phones-page__sort",children:[Object(I.jsxs)("div",{className:"phones-page__wrap",children:[Object(I.jsx)(ne,{title:"Sort by",DATA:T,option:j,paramName:"sortBy"}),Object(I.jsx)(ne,{title:"Items on page",DATA:E,option:u,paramName:"perPage"})]}),i&&Object(I.jsx)(ee,{}),!i&&!O&&Object(I.jsx)(le,{}),!i&&!!O&&Object(I.jsx)("div",{className:"productList","data-cy":"productList",children:Object(I.jsx)(ie,{phones:"all"===u?p:p.slice(x,v)})})]}),!i&&!!O&&Object(I.jsx)("div",{className:"pagination",children:Object(I.jsx)(re,{total:O,perPage:+u,currentPage:+h})})]})})},de=function(){var e=Object(i.r)().productId,t=Object(i.p)(),c=Object(i.n)(),s=c.state,a=c.pathname,d=Object(l.useContext)(M),j=d.products,u=d.hasError,m=d.setHasError,p=d.handleChooseCart,_=Object(l.useState)(!1),O=Object(r.a)(_,2),v=O[0],N=O[1],y=Object(l.useState)(null),k=Object(r.a)(y,2),C=k[0],w=k[1],S=e?j.find((function(t){return t.phoneId===e})):null,A=Object(l.useState)(""),T=Object(r.a)(A,2),E=T[0],L=T[1],F=j.filter((function(t){return t.id!==e})).slice(0,10);function q(t,c){var s=null===e||void 0===e?void 0:e.split("-");return"color"===c&&s&&(s[s.length-1]=t.toLowerCase()),"memory"===c&&s&&(s[s.length-2]=t.toLowerCase()),"/phones/".concat(null===s||void 0===s?void 0:s.join("-"))}return Object(l.useEffect)((function(){var c=function(){var c=Object(x.a)(g.a.mark((function c(){var s;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return m(""),N(!0),L(""),c.prev=3,c.next=6,B("/products/".concat(e,".json"));case 6:s=c.sent,w(s),N(!1),c.next=16;break;case 11:c.prev=11,c.t0=c.catch(3),m("Phone was not found"),N(!1),setTimeout((function(){t("..")}),2e3);case 16:case"end":return c.stop()}}),c,null,[[3,11]])})));return function(){return c.apply(this,arguments)}}();S||(m("There is no details"),setTimeout((function(){m("")}),2e3)),c()}),[a]),Object(I.jsx)("div",{className:"container",children:Object(I.jsxs)("div",{className:"product-details App__product-details",children:[Object(I.jsxs)("div",{className:"product-details__nav-wrap",children:[Object(I.jsxs)("div",{className:"page-navigation",children:[Object(I.jsx)(n.b,{to:"/",className:"page-navigation__link",children:Object(I.jsx)("img",{src:b.home_icon,alt:"to home page",className:"icon"})}),Object(I.jsx)("img",{src:b.arrow,alt:"icon",className:"icon icon--right"}),Object(I.jsx)(n.b,{to:{pathname:"..",search:null===s||void 0===s?void 0:s.search},className:"page-navigation__link",children:Object(I.jsx)("p",{className:"page-navigation__text",children:"Phones"})}),Object(I.jsx)("img",{src:b.arrow,alt:"icon",className:"icon icon--right"}),Object(I.jsx)("p",{className:"page-navigation__text",children:null===C||void 0===C?void 0:C.name})]}),Object(I.jsx)("div",{className:"page-navigation",children:Object(I.jsxs)("button",{type:"button","data-cy":"backButton",className:"button button--direction button--details-page",onClick:function(){t(-1)},children:[Object(I.jsx)("img",{src:b.arrow,alt:"icon",className:"icon icon--left"}),Object(I.jsx)("p",{className:"page-navigation__text",children:"Back"})]})})]}),v&&Object(I.jsx)(ee,{}),!v&&u&&Object(I.jsx)("p",{children:Object(I.jsx)("strong",{children:u})}),!v&&!u&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"product-details__body",children:[Object(I.jsx)("h1",{className:"title title--h1",children:null===C||void 0===C?void 0:C.name}),Object(I.jsxs)("section",{className:"product-details__main",children:[Object(I.jsx)("div",{className:"product-details__left-box",children:null===C||void 0===C?void 0:C.images.map((function(e){return Object(I.jsx)("button",{type:"button",className:"button--slide-details",onClick:function(){return L(e)},children:Object(I.jsx)("img",{src:"".concat(f).concat(e),alt:"Small phone banner",className:"product-details__small-images"})},e)}))}),Object(I.jsx)("div",{className:"product-details__main-box",children:Object(I.jsx)("img",{className:"product-details__main-image",src:E?"".concat(f).concat(E):"".concat(f).concat(null===C||void 0===C?void 0:C.images[0]),alt:"Main phone banner"})}),Object(I.jsxs)("div",{className:"product-details__right-box",children:[Object(I.jsxs)("div",{className:"product-details__available",children:[Object(I.jsx)("p",{className:"product-details__available-text",children:"Available colors"}),Object(I.jsx)("ul",{className:"product-details__available-list",children:null===C||void 0===C?void 0:C.colorsAvailable.map((function(e){return Object(I.jsx)(n.b,{to:q(e,"color"),className:h()("product-details__available-item--color",{"product-details__available-item--select":C.color===e}),children:Object(I.jsx)("div",{className:" product-details__available-item--bc-color ",style:{backgroundColor:P[e]}})},e)}))})]}),Object(I.jsx)("div",{className:"product-details__break-line"}),Object(I.jsxs)("div",{className:"product-details__available",children:[Object(I.jsx)("p",{className:"product-details__available-text",children:"Select capacity"}),Object(I.jsx)("ul",{className:"product-details__available-list",children:null===C||void 0===C?void 0:C.capacityAvailable.map((function(e){return Object(I.jsx)(n.b,{to:q(e,"memory"),className:h()("product-details__available-item--memory","product-details__available--body-text",{"product-details__available-item--active":C.capacity===e}),children:e},e)}))})]}),Object(I.jsx)("div",{className:"product-details__break-line"}),Object(I.jsxs)("div",{className:"product-details__price",children:[Object(I.jsx)("p",{className:"product-details__price--discount",children:"$".concat(null===C||void 0===C?void 0:C.priceDiscount)}),Object(I.jsx)("p",{className:"product-details__price--regular",children:Object(I.jsx)("s",{children:"$".concat(null===C||void 0===C?void 0:C.priceRegular)})})]}),Object(I.jsx)("div",{className:"product-details__btns",children:Object(I.jsxs)("div",{className:"product-details__btns-container",children:[Object(I.jsx)("button",{type:"button",className:h()("button button--big button--details",{"button--selected":null===S||void 0===S?void 0:S.inCart}),onClick:function(){return S&&p(S,"addCard")},children:Object(I.jsx)("p",{className:"button__text",children:null!==S&&void 0!==S&&S.inCart?"You`ve added":"Added to cart"})}),Object(I.jsx)("button",{type:"button",className:" button button--product-details-favourites button--hover ",onClick:function(){return S&&p(S,"favourites")},children:Object(I.jsx)("img",{alt:"favourites",src:null!==S&&void 0!==S&&S.inFavourite?b.favourites_like:b.favourites,className:"icon icon--hover"})})]})}),Object(I.jsx)("table",{className:"short-specs",children:Object(I.jsxs)("tbody",{children:[Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:" short-specs__name short-specs__name--small-text ",children:"Screen"}),Object(I.jsx)("td",{className:" short-specs__details short-specs__details--small-text ",children:null===C||void 0===C?void 0:C.screen})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:" short-specs__name short-specs__name--small-text ",children:"Resolution"}),Object(I.jsx)("td",{className:" short-specs__details short-specs__details--small-text ",children:null===C||void 0===C?void 0:C.resolution})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:" short-specs__name short-specs__name--small-text ",children:"Processor"}),Object(I.jsx)("td",{className:" short-specs__details short-specs__details--small-text ",children:null===C||void 0===C?void 0:C.processor})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:"short-specs__name",children:"RAM"}),Object(I.jsx)("td",{className:" short-specs__details short-specs__details--small-text ",children:null===C||void 0===C?void 0:C.ram})]})]})})]}),Object(I.jsx)("div",{className:"product-details__id",children:Object(I.jsx)("p",{className:" product-details__text product-details__text--small-text ",children:"ID:802390"})})]}),Object(I.jsxs)("section",{className:"product-details__description","data-cy":"productDescription",children:[Object(I.jsxs)("div",{className:"product-details__about",children:[Object(I.jsx)("h2",{className:" title title--h2 product-details__about-title ",children:"About"}),Object(I.jsxs)("div",{className:"product-details__about-description",children:[Object(I.jsx)("div",{className:"product-details__break-line"}),null===C||void 0===C?void 0:C.description.map((function(e){return Object(I.jsxs)("div",{className:"product-details__about-article",children:[Object(I.jsx)("h3",{className:"title title--h2",children:e.title}),Object(I.jsx)("p",{className:"product-details__about-text",children:e.text.map((function(e){return Object(I.jsxs)(o.a.Fragment,{children:[e,Object(I.jsx)("br",{})]},e)}))})]},e.title)}))]})]}),Object(I.jsxs)("div",{className:"product-details__specs",children:[Object(I.jsx)("h2",{className:" title title--h2 product-details__specs-title ",children:"Specs"}),Object(I.jsxs)("div",{className:"product-details__specs-description",children:[Object(I.jsx)("div",{className:"product-details__break-line"}),Object(I.jsx)("table",{className:"short-specs",children:Object(I.jsxs)("tbody",{children:[Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:" short-specs__name short-specs__name--body-text ",children:"Screen"}),Object(I.jsx)("td",{className:" short-specs__details short-specs__details--body-text ",children:null===C||void 0===C?void 0:C.screen})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:" short-specs__name short-specs__name--body-text ",children:"Resolution"}),Object(I.jsx)("td",{className:" short-specs__details short-specs__details--body-text ",children:null===C||void 0===C?void 0:C.resolution})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:" short-specs__name short-specs__name--body-text ",children:"Processor"}),Object(I.jsx)("td",{className:" short-specs__details short-specs__details--body-text ",children:null===C||void 0===C?void 0:C.processor})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:" short-specs__name short-specs__name--body-text ",children:"RAM"}),Object(I.jsx)("td",{className:" short-specs__details short-specs__details--body-text ",children:null===C||void 0===C?void 0:C.ram})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:" short-specs__name short-specs__name--body-text ",children:"Built in memory"}),Object(I.jsx)("td",{className:" short-specs__details short-specs__details--body-text ",children:null===S||void 0===S?void 0:S.capacity})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:" short-specs__name short-specs__name--body-text ",children:"Camera"}),Object(I.jsx)("td",{className:" short-specs__details short-specs__details--body-text ",children:null===C||void 0===C?void 0:C.camera})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:" short-specs__name short-specs__name--body-text",children:"Zoom"}),Object(I.jsx)("td",{className:" short-specs__details short-specs__details--body-text",children:null===C||void 0===C?void 0:C.zoom})]}),Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{className:" short-specs__name short-specs__name--body-text",children:"Cell"}),Object(I.jsx)("td",{className:" short-specs__details short-specs__details--body-text",children:null===C||void 0===C?void 0:C.cell.map((function(e,t){return Object(I.jsx)(o.a.Fragment,{children:t!==C.cell.length-1?Object(I.jsx)(I.Fragment,{children:"".concat(e,", ")}):e},e)}))})]})]})})]})]})]})]}),Object(I.jsx)("section",{className:"product-details__you-may-like",children:Object(I.jsx)(W,{items:F,sliderTitle:"You may also like"})})]})]})})},je=function(){var e=Object(l.useState)(!0),t=Object(r.a)(e,2),c=t[0],s=t[1],a=Object(l.useCallback)(j()(s,1e3),[]);return Object(l.useEffect)((function(){a(!c)}),[]),Object(I.jsx)("div",{className:"container",children:Object(I.jsxs)("div",{className:"tablets-page App__tablets-page",children:[Object(I.jsxs)("div",{className:"page-navigation",children:[Object(I.jsx)(n.b,{to:"/",className:"page-navigation__link",children:Object(I.jsx)("img",{src:b.home_icon,alt:"to home page",className:"icon"})}),Object(I.jsx)("img",{src:b.arrow,alt:"icon",className:"icon icon--right"}),Object(I.jsx)("p",{className:"page-navigation__text",children:"Tablets"})]}),Object(I.jsx)("div",{className:"tablets-page__title",children:Object(I.jsx)("h1",{className:"title title--h1",children:"Tablets Page"})}),c&&Object(I.jsx)(ee,{}),!c&&Object(I.jsx)("h2",{className:"title title--h2 title--empty-page",children:Object(I.jsx)("strong",{children:"This page is under development"})})]})})},be=function(){var e=Object(l.useState)(!0),t=Object(r.a)(e,2),c=t[0],s=t[1],a=Object(l.useCallback)(j()(s,1e3),[]);return Object(l.useEffect)((function(){a(!c)}),[]),Object(I.jsx)("div",{className:"container",children:Object(I.jsxs)("div",{className:"accessories-page App__accessories-page",children:[Object(I.jsxs)("div",{className:"page-navigation",children:[Object(I.jsx)(n.b,{to:"/",className:"page-navigation__link",children:Object(I.jsx)("img",{src:b.home_icon,alt:"to home page",className:"icon"})}),Object(I.jsx)("img",{src:b.arrow,alt:"icon",className:"icon icon--right"}),Object(I.jsx)("p",{className:"page-navigation__text",children:"Accessories"})]}),Object(I.jsx)("div",{className:"accessories-page__title",children:Object(I.jsx)("h1",{className:"title title--h1",children:"Accessories Page"})}),c&&Object(I.jsx)(ee,{}),!c&&Object(I.jsx)("h2",{className:"title title--h2 title--empty-page",children:Object(I.jsx)("strong",{children:"This page is under development"})})]})})},ue=function(){var e,t=Object(n.d)(),c=Object(r.a)(t,1)[0],s=Object(l.useContext)(M).localStore,a=Object(l.useState)(!0),i=Object(r.a)(a,2),o=i[0],d=i[1],u=H(s),h=(null===(e=c.get("query"))||void 0===e?void 0:e.toLocaleLowerCase())||"",m=Object(l.useCallback)(j()(d,1e3),[]);Object(l.useEffect)((function(){m(!o)}),[]);var p=function(){var e=Object(_.a)(u);return h&&(e=e.filter((function(e){return e.name.toLocaleLowerCase().includes(h)}))),e}();return Object(I.jsx)("div",{className:"favorites-page",children:Object(I.jsx)("div",{className:"container",children:Object(I.jsxs)("div",{className:"favorites-page__wrap",children:[Object(I.jsxs)("div",{className:"page-navigation",children:[Object(I.jsx)(n.b,{to:"/",className:"page-navigation__link",children:Object(I.jsx)("img",{src:b.home_icon,alt:"to home page",className:"icon"})}),Object(I.jsx)("img",{src:b.arrow,alt:"icon",className:"icon icon--right"}),Object(I.jsx)("p",{className:"page-navigation__text",children:"Favorites"})]}),Object(I.jsxs)("div",{className:"favorites-page__title",children:[Object(I.jsx)("h1",{className:"title title--h1",children:"Favourites"}),Object(I.jsx)("p",{className:"favorites-page__items__length",children:"".concat(p.length," items")})]}),o&&Object(I.jsx)(ee,{}),!o&&!p.length&&Object(I.jsx)("h2",{className:"title title--h2 title--empty-page",children:Object(I.jsx)("strong",{children:"Your cart is empty"})}),!o&&!!p.length&&Object(I.jsx)("div",{className:"productList",children:Object(I.jsx)(ie,{phones:p})})]})})})},he=function(){var e=Object(i.p)(),t=Object(l.useContext)(M),c=t.localStore,s=t.handleChooseCart,a=Object(l.useState)(!0),n=Object(r.a)(a,2),o=n[0],d=n[1],u=Object(l.useState)(!1),m=Object(r.a)(u,2),p=m[0],_=m[1],O=R(c),x=Object(l.useCallback)(j()(d,1e3),[]);Object(l.useEffect)((function(){x(!o)}),[]);var v=O.reduce((function(e,t){return e+t.price*t.quantity}),0);return Object(I.jsx)("div",{className:"cart-page",children:Object(I.jsx)("div",{className:"container",children:Object(I.jsxs)("div",{className:"cart-page__wrap",children:[Object(I.jsxs)("div",{className:"cart-page__navigation",children:[Object(I.jsxs)("button",{type:"button","data-cy":"backButton",className:"button button--direction button--details-page",onClick:function(){return e(-1)},children:[Object(I.jsx)("img",{src:b.arrow,alt:"icon",className:"icon icon--left"}),Object(I.jsx)("p",{className:"page-navigation__text",children:"Back"})]}),Object(I.jsx)("h1",{className:"title title--h1",children:"CartPage"})]}),o&&Object(I.jsx)(ee,{}),!o&&!O.length&&Object(I.jsx)("h2",{className:"title title--h2 title--empty-page",children:Object(I.jsx)("strong",{children:"Your cart is empty"})}),!o&&!!O.length&&Object(I.jsxs)("div",{className:"cart-page__items-container",children:[Object(I.jsx)("div",{className:"cart-page__items-wrap",children:O.map((function(e){return Object(I.jsxs)("div",{className:"cart-page__item",children:[Object(I.jsx)("button",{type:"button",className:"button button--clear cart-page__button","data-cy":"cartDeleteButton",onClick:function(){s(e,"delete"),_(!1)},children:Object(I.jsx)("img",{src:b.close_icon,alt:"remove product"})}),Object(I.jsx)("div",{className:"cart-page__item-img-box",children:Object(I.jsx)("img",{src:"".concat(f).concat(e.image),alt:e.name,className:"cart-page__item-img"})}),Object(I.jsx)("div",{className:"cart-page__text",children:e.name}),Object(I.jsxs)("div",{className:"cart-page__btns",children:[Object(I.jsx)("button",{type:"button",className:h()("button button--count",{"button--disabled":e.quantity<=1,"button--hover":e.quantity>1}),onClick:function(){s(e,"deleteQuantity"),_(!1)},disabled:e.quantity<=1,children:Object(I.jsx)("img",{src:b.icon_minus_not_active,alt:"delete from basket",className:"icon"})}),Object(I.jsx)("div",{className:"cart-page__count",children:e.quantity}),Object(I.jsx)("button",{type:"button",className:"button button--count button--hover",onClick:function(){s(e,"addQuantity"),_(!1)},children:Object(I.jsx)("img",{src:b.icon_plus,alt:"plus to buy",className:"icon"})})]}),Object(I.jsx)("div",{className:"cart-page__item-price title--h2",children:"$".concat(e.price*e.quantity)})]},e.id)}))}),Object(I.jsxs)("div",{className:"cart-page__amount",children:[Object(I.jsxs)("div",{className:"cart-page__total-amount-info",children:[Object(I.jsxs)("div",{className:"cart-page__amount-info","data-cy":"productQauntity",children:[Object(I.jsx)("p",{className:"cart-page__total-price",children:"$".concat(v)}),Object(I.jsx)("p",{className:"cart-page__items-length",children:"Total from ".concat(O.length," items")})]}),Object(I.jsx)("div",{className:"cart-page__break-line"}),Object(I.jsx)("button",{type:"button",className:h()("button button--big button--checkout",{"button--selected":p}),onClick:function(){return _(!p)},children:Object(I.jsx)("p",{className:"button__text",children:"Checkout"})})]}),p&&Object(I.jsx)("div",{className:"cart-page__message",children:"We are sorry, but this feature is not implemented yet"})]})]})]})})})},me=function(){var e=Object(i.p)();return setTimeout((function(){e("..")}),2e3),Object(I.jsx)("div",{className:"page-not-found",children:Object(I.jsx)("h2",{className:"title title--h2 title--empty-page",children:Object(I.jsx)("strong",{children:"Page not found"})})})},pe=function(){return Object(I.jsx)(n.a,{children:Object(I.jsx)(D,{children:Object(I.jsx)(i.d,{children:Object(I.jsxs)(i.b,{path:"/",element:Object(I.jsx)(Q,{}),children:[Object(I.jsx)(i.b,{index:!0,element:Object(I.jsx)(V,{})}),Object(I.jsxs)(i.b,{path:"phones",children:[Object(I.jsx)(i.b,{index:!0,element:Object(I.jsx)(oe,{})}),Object(I.jsx)(i.b,{path:":productId?",element:Object(I.jsx)(de,{})})]}),Object(I.jsx)(i.b,{path:"tablets",element:Object(I.jsx)(je,{})}),Object(I.jsx)(i.b,{path:"accessories",element:Object(I.jsx)(be,{})}),Object(I.jsx)(i.b,{path:"favourites",element:Object(I.jsx)(ue,{})}),Object(I.jsx)(i.b,{path:"cart",element:Object(I.jsx)(he,{})}),Object(I.jsx)(i.b,{path:"*",element:Object(I.jsx)(me,{})})]})})})})};a.a.render(Object(I.jsx)(pe,{}),document.getElementById("root"))}]),[[60,1,2]]]);
//# sourceMappingURL=main.8ee9bc24.chunk.js.map