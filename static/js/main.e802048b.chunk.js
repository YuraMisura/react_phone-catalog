(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(32).concat([function(e,t,c){},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/logo.c9417692.svg"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/heart_like.a95dd00f.svg"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/shopping_bag.9d5d0d40.svg"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/arrow.1ea6958a.svg"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/close_icon.815681be.svg"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/search_icon.eb670dd9.svg"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/favourites_like.d554a185.svg"},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/banner-tablets.a962057c.png"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/banner-phones.b4eeda8b.png"},function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/banner-accessories.bdd2e0fc.png"},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var s=c(25),a=c.n(s),n=c(6),r=c(3),i=c(4),o=c(0),l=c.n(o),j=c(26),d=c.n(j),u=(c(32),{logo:c(33).default,favourites:c(34).default,shopping_bag:c(35).default,arrow:c(36).default,close_icon:c(37).default,search_icon:c(38).default,favourites_like:c(39).default}),b=c(14),h=c.n(b),O=function(e){var t=e.isActive;return h()("nav__link",{"nav__link--is-active":t})},m=function(e){var t=e.isActive;return h()({"header__img-contain--is-active":t})};function x(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(i.a)(e,2),s=t[0],a=t[1];null===a?c.delete(s):Array.isArray(a)?(c.delete(s),a.forEach((function(e){c.append(s,e)}))):c.set(s,a)})),c.toString()}var f=c(1),_=function(){var e=Object(r.n)().pathname,t=Object(n.d)(),c=Object(i.a)(t,2),s=c[0],a=c[1],l=s.get("query")||"",j=Object(o.useState)(""),b=Object(i.a)(j,2),h=b[0],_=b[1],p=Object(o.useState)(!0),v=Object(i.a)(p,2),g=v[0],N=v[1],y=Object(o.useState)(""),S=Object(i.a)(y,2),k=S[0],C=S[1];Object(o.useEffect)((function(){h.toString()}),[h]);var w=Object(o.useCallback)(d()(_,1e3),[]);Object(o.useEffect)((function(){switch(_(""),e){case"/phones":N(!0),C("Search in phones...");break;case"/tablets":N(!0),C("Search in tablets...");break;case"/accessories":N(!0),C("Search in accessories...");break;case"/favourites":N(!0),C("Search in favourites...");break;default:N(!1)}}),[e]);return Object(f.jsxs)("header",{className:"header",children:[Object(f.jsx)("div",{className:"header__left-side",children:Object(f.jsx)("nav",{className:"nav",children:Object(f.jsxs)("ul",{className:"nav__list",children:[Object(f.jsx)("li",{className:"nav__item",children:Object(f.jsx)("div",{className:"logo",children:Object(f.jsx)(n.b,{to:"/",children:Object(f.jsx)("img",{src:u.logo,alt:"Logo",className:"logo__img"})})})}),Object(f.jsx)("li",{className:"nav__item",children:Object(f.jsx)(n.c,{to:"/",className:O,children:"HOME"})}),Object(f.jsx)("li",{className:"nav__item",children:Object(f.jsx)(n.c,{to:"/phones",className:O,children:"PHONES"})}),Object(f.jsx)("li",{className:"nav__item",children:Object(f.jsx)(n.c,{to:"/tablets",className:O,children:"TABLETS"})}),Object(f.jsx)("li",{className:"nav__item",children:Object(f.jsx)(n.c,{to:"/accessories",className:O,children:"ACCESSORIES"})})]})})}),Object(f.jsxs)("div",{className:"header__right-side",children:[g&&Object(f.jsxs)("div",{className:"header__search",children:[Object(f.jsx)("input",{type:"text",className:"header__search-input",placeholder:k,value:l,onChange:function(e){var t=x(s,{query:e.target.value||null});w(e.target.value),a(t)}}),Object(f.jsx)("button",{type:"button",className:"button button--clear",onClick:function(){return function(){var e=x(s,{query:null});a(e),_("")}()},children:l?Object(f.jsx)("img",{src:u.close_icon,alt:"Clear search","data-cy":"searchDelete",className:"icon icon--hover"}):Object(f.jsx)("img",{src:u.search_icon,alt:"Icon search",className:"icon icon--hover"})})]}),Object(f.jsxs)("div",{className:"header__icon-box",children:[Object(f.jsx)(n.c,{to:"/favourites",className:m,children:Object(f.jsx)("div",{className:"header__img-contain",children:Object(f.jsx)("img",{src:u.favourites,alt:"favourites items",className:"icon icon--hover"})})}),Object(f.jsx)(n.c,{to:"/cart",className:m,children:Object(f.jsx)("div",{className:"header__img-contain",children:Object(f.jsx)("img",{src:u.shopping_bag,alt:"My choice",className:"icon icon--hover"})})})]})]})]})},p=(c(42),function(){return Object(f.jsx)("footer",{className:"footer",children:Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("div",{className:"footer__wrap",children:[Object(f.jsx)("div",{className:"logo",children:Object(f.jsx)(n.b,{to:"/",children:Object(f.jsx)("img",{src:u.logo,alt:"Logo",className:"logo__img"})})}),Object(f.jsx)("div",{className:"footer-nav",children:Object(f.jsx)("nav",{className:"nav",children:Object(f.jsxs)("ul",{className:"nav__list",children:[Object(f.jsx)("li",{className:"nav__item",children:Object(f.jsx)(n.c,{to:"/git",className:O,children:"GITHUB"})}),Object(f.jsx)("li",{className:"nav__item",children:Object(f.jsx)(n.c,{to:"/contacts",className:O,children:"CONTACTS"})}),Object(f.jsx)("li",{className:"nav__item",children:Object(f.jsx)(n.c,{to:"/rights",className:O,children:"RIGHTS"})})]})})}),Object(f.jsxs)("div",{className:"footer__button",children:[Object(f.jsx)("p",{className:"footer__button-text",children:"Back to top"}),Object(f.jsx)("button",{type:"button",className:"button button--direction button--hover",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:Object(f.jsx)("img",{src:u.arrow,alt:"Back to top"})})]})]})})})}),v=(c(43),function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(_,{}),Object(f.jsx)("main",{children:Object(f.jsx)(r.a,{})}),Object(f.jsx)(p,{})]})}),g=c(12),N=c(7),y=c(5),S=c.n(y),k="https://mate-academy.github.io/react_phone-catalog/_new/";function C(e){return new Promise((function(t){setTimeout(t,e)}))}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s={method:t};return c&&(s.body=JSON.stringify(c),s.headers={"Content-Type":"application/json; charset=UTF-8"}),C(300).then((function(){return fetch(k+e,s)})).then((function(e){if(!e.ok)throw new Error;return e.json()}))}var P=function(e){return w(e)};var A=l.a.createContext({products:[],hasError:"",setProducts:function(){},localStore:[],setLocalStore:function(){}}),T=function(e){var t=e.children,c=Object(o.useState)([]),s=Object(i.a)(c,2),a=s[0],n=s[1],r=function(e,t){var c=Object(o.useState)((function(){var c=localStorage.getItem(e);if(null===c)return t;try{return JSON.parse(c)}catch(s){return localStorage.removeItem(e),t}})),s=Object(i.a)(c,2),a=s[0],n=s[1];return[a,function(t){localStorage.setItem(e,JSON.stringify(t)),n(t)}]}("products",[]),l=Object(i.a)(r,2),j=l[0],d=l[1],u=Object(o.useState)(""),b=Object(i.a)(u,2),h=b[0],O=b[1];Object(o.useEffect)((function(){var e=function(){var e=Object(N.a)(S.a.mark((function e(){var t,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(""),e.prev=1,e.next=4,P("products.json");case 4:t=e.sent,c=t.map((function(e){var t=j.find((function(t){return e.id===t.id}));return t||Object(g.a)(Object(g.a)({},e),{},{inFavourite:!1,inCart:!1,discount:e.fullPrice-e.price})})),n(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),O("Something went wrong");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var m={hasError:h,products:a,setProducts:n,localStore:j,setLocalStore:d};return Object(f.jsx)(A.Provider,{value:m,children:t})},E=c(9),I=(c(44),function(e){var t=e.product,c=t.id,s=t.discount,a=t.image,r=t.name,i=t.price,l=t.fullPrice,j=t.screen,d=t.capacity,b=t.ram,O=t.isAddCard,m=t.inFavourite,x=Object(o.useContext)(A),_=x.products,p=x.setProducts,v=x.localStore,N=x.setLocalStore,y=function(e,t){var c=Object(E.a)(_),s=Object(E.a)(v),a=Object(g.a)({},e);if("addCard"===t&&(a=Object(g.a)(Object(g.a)({},e),{},{isAddCard:!e.isAddCard})),"favourites"===t&&(a=Object(g.a)(Object(g.a)({},e),{},{inFavourite:!e.inFavourite})),a.isAddCard||a.inFavourite){var n=s.findIndex((function(t){return t.id===e.id}));-1!==n?s.splice(n,1,a):s=[].concat(Object(E.a)(s),[a])}else s=s.filter((function(e){return e.id!==a.id}));var r=c.findIndex((function(t){return t.id===e.id}));c.splice(r,1,a),p(c),N(s)};return Object(f.jsxs)("div",{className:"card","data-qa":"card",children:[Object(f.jsx)(n.b,{to:"/phones/".concat(c),children:Object(f.jsx)("img",{src:"https://mate-academy.github.io/react_phone-catalog/_new/".concat(a),alt:r,className:"card__img"})}),Object(f.jsxs)("div",{className:"card__info",children:[Object(f.jsx)("p",{className:"card__title",children:r}),Object(f.jsxs)("div",{className:"card__price",children:[Object(f.jsx)("p",{className:"card__price-new",children:"$".concat(i)}),s&&Object(f.jsx)("p",{className:"card__price-old",children:Object(f.jsx)("s",{children:"$".concat(l)})})]}),Object(f.jsx)("div",{className:"card__line"}),Object(f.jsxs)("div",{className:"card__specs",children:[Object(f.jsxs)("div",{className:"card__specs-box",children:[Object(f.jsx)("p",{className:"card__specs-title",children:"Screen"}),Object(f.jsx)("p",{className:"card__specs-details",children:j})]}),Object(f.jsxs)("div",{className:"card__specs-box",children:[Object(f.jsx)("p",{className:"card__specs-title",children:"Capacity"}),Object(f.jsx)("p",{className:"card__specs-details",children:d})]}),Object(f.jsxs)("div",{className:"card__specs-box",children:[Object(f.jsx)("p",{className:"card__specs-title",children:"RAM"}),Object(f.jsx)("p",{className:"card__specs-details",children:b})]})]}),Object(f.jsx)("div",{className:"card__btns",children:Object(f.jsxs)("div",{className:"card__btns-container",children:[Object(f.jsx)("button",{type:"button",className:h()("button button--card-add",{"button--selected":O}),onClick:function(){return y(t,"addCard")},children:Object(f.jsx)("p",{className:"button__text",children:O?"You`ve added":"Added to cart"})}),Object(f.jsx)("button",{type:"button",className:"button button--favourites button--hover",onClick:function(){return y(t,"favourites")},children:Object(f.jsx)("img",{alt:"favourites",src:m?u.favourites_like:u.favourites,className:"icon icon--hover"})})]})})]})]})}),B=272,F=4,L=1,M=1e3,H=!0,J=16,q=(c(45),function(e){var t=e.items,c=e.sliderTitle,s=Object(o.useState)(0),a=Object(i.a)(s,2),n=a[0],r=a[1],l=B,j=F,d=L,b=M,h=H,O=J,m={transform:"translateX(-".concat(n*(l+O),"px)"),transition:"".concat(b,"ms"),gap:"".concat(O,"px")},x=n<=0&&!h,_=n>t.length-j-d&&!h;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"slider-section",children:[Object(f.jsxs)("div",{className:"slider-section__wrap",children:[Object(f.jsx)("h2",{className:"title title--h2",children:c}),Object(f.jsxs)("div",{className:"slider-section__change-direction",children:[Object(f.jsx)("button",{type:"button",className:"button button--direction button--hover",onClick:function(){var e=n-1<0;r(e&&!h?0:e&&h?t.length-j:n-d)},disabled:x,children:Object(f.jsx)("img",{src:u.arrow,alt:"move left",className:"icon icon--left"})}),Object(f.jsx)("button",{type:"button",className:"button button--direction button--hover",disabled:_,onClick:function(){var e=n+d>=t.length-j;r(e&&!h?t.length-j:e&&h?0:n+d)},children:Object(f.jsx)("img",{src:u.arrow,alt:"move right",className:"icon icon--right"})})]})]}),Object(f.jsx)("div",{className:"slider-section__cards-container","data-cy":"cardsContainer",style:{width:"".concat(j*l+O*(j-1),"px")},children:Object(f.jsx)("ul",{className:"slider-section__list",style:m,children:t.map((function(e){return Object(f.jsx)("li",{children:Object(f.jsx)(I,{product:e},e.id)},e.id)}))})})]})})}),R=l.a.memo(q),G=(c(46),function(){var e=Object(o.useContext)(A).products,t=Object(o.useMemo)((function(){return function(e){return e.filter((function(e){return e.discount>0})).sort((function(e,t){return t.discount-e.discount}))}(e)}),[e]);return Object(f.jsx)("section",{className:"hot-price",children:Object(f.jsx)(R,{items:t,sliderTitle:"Hot prices"})})}),U={bannerTablet:c(47).default,bannerPhones:c(48).default,bannerAccessories:c(49).default},D=(c(50),[{id:1,src:U.bannerTablet,alt:"Tablets"},{id:2,src:U.bannerPhones,alt:"Phones"},{id:3,src:U.bannerAccessories,alt:"Accessories"}]),$=function(){var e=Object(o.useState)(0),t=Object(i.a)(e,2),c=t[0],s=t[1];Object(o.useEffect)((function(){var e=setInterval((function(){s((function(e){return(e+1)%D.length}))}),5e3);return function(){return clearInterval(e)}}),[D.length]);return Object(f.jsxs)("section",{className:"picture-slider",children:[Object(f.jsxs)("div",{className:"picture-slider__container",children:[Object(f.jsx)("button",{type:"button",className:"button button--hover button--slider",onClick:function(){s((function(e){return 0===e?D.length-1:e-1}))},children:Object(f.jsx)("img",{src:u.arrow,alt:"Back to top",className:"icon icon--left"})}),Object(f.jsx)("div",{className:"picture-slider__images-container",children:D.map((function(e,t){return Object(f.jsx)("img",{src:e.src,alt:"Slider of ".concat(e.alt),style:{opacity:t===c?1:0},className:"picture-slider__slider-image"},e.id)}))}),Object(f.jsx)("button",{type:"button",className:"button button--hover button--slider",onClick:function(){s((function(e){return(e+1)%D.length}))},children:Object(f.jsx)("img",{src:u.arrow,alt:"Back to top",className:"icon icon--right"})})]}),Object(f.jsx)("ul",{className:"picture-slider__dots",children:D.map((function(e,t){return Object(f.jsx)("li",{className:"picture-slider__dot-container",children:Object(f.jsx)("div",{className:h()("picture-slider__dot",{"picture-slider__dot--active":t===c})})},e.id)}))})]})},X=(c(51),function(){var e=Object(o.useContext)(A).products,t=Object(o.useMemo)((function(){return function(e){return e.sort((function(e,t){return t.fullPrice-e.fullPrice}))}(e)}),[e]);return Object(f.jsx)("section",{className:"brand-new",children:Object(f.jsx)(R,{items:t,sliderTitle:"Brand new models"})})}),Y=(c(52),function(){var e=Object(o.useContext)(A).products,t=e.filter((function(e){return"tablets"===e.category})).length,c=e.filter((function(e){return"accessories"===e.category})).length;return Object(f.jsxs)("section",{className:"category",children:[Object(f.jsx)("h2",{className:"title title--h2",children:"Shop by category"}),Object(f.jsxs)("div",{className:"category__container","data-cy":"categoryLinksContainer",children:[Object(f.jsx)("div",{className:"category__wrap-link",children:Object(f.jsxs)(n.b,{to:"/phones",className:"category__link",children:[Object(f.jsx)("div",{className:"category__img category__img--phones"}),Object(f.jsx)("h3",{className:"category__title",children:"Mobile phones"}),Object(f.jsx)("span",{className:"category__info",children:"".concat(e.length||"No"," models")})]})}),Object(f.jsx)("div",{className:"category__wrap-link",children:Object(f.jsxs)(n.b,{to:"/tablets",className:"category__link",children:[Object(f.jsx)("div",{className:"category__img category__img--tablets"}),Object(f.jsx)("h3",{className:"category__title",children:"Tablets"}),Object(f.jsx)("span",{className:"category__info",children:"".concat(t||"No"," models")})]})}),Object(f.jsx)("div",{className:"category__wrap-link",children:Object(f.jsxs)(n.b,{to:"/accessories",className:"category__link",children:[Object(f.jsx)("div",{className:"category__img category__img--accessories"}),Object(f.jsx)("h3",{className:"category__title",children:"Accessories"}),Object(f.jsx)("span",{className:"category__info",children:"".concat(c||"No"," models")})]})})]})]})}),z=(c(53),function(){return Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("div",{className:"home-page App__home-page",children:[Object(f.jsx)($,{}),Object(f.jsx)(G,{}),Object(f.jsx)(X,{}),Object(f.jsx)(Y,{})]})})}),K=function(){return Object(f.jsx)("p",{children:"Phones Page"})},Q=function(){return Object(f.jsx)("p",{children:"ProductDetailsPage Page"})},V=function(){return Object(f.jsx)("p",{children:"Phones Page"})},W=function(){return Object(f.jsx)("p",{children:"Accessories Page"})},Z=function(){return Object(f.jsx)("p",{children:"Favorites  Page"})},ee=function(){return Object(f.jsx)("p",{children:"Cart Page"})},te=function(){return Object(f.jsx)("p",{children:"Error: Page not found"})},ce=function(){return Object(f.jsx)(n.a,{children:Object(f.jsx)(T,{children:Object(f.jsx)(r.d,{children:Object(f.jsxs)(r.b,{path:"/",element:Object(f.jsx)(v,{}),children:[Object(f.jsx)(r.b,{index:!0,element:Object(f.jsx)(z,{})}),Object(f.jsxs)(r.b,{path:"phones",children:[Object(f.jsx)(r.b,{index:!0,element:Object(f.jsx)(K,{})}),Object(f.jsx)(r.b,{path:":productId?",element:Object(f.jsx)(Q,{})})]}),Object(f.jsx)(r.b,{path:"tablets",element:Object(f.jsx)(V,{})}),Object(f.jsx)(r.b,{path:"accessories",element:Object(f.jsx)(W,{})}),Object(f.jsx)(r.b,{path:"favourites",element:Object(f.jsx)(Z,{})}),Object(f.jsx)(r.b,{path:"cart",element:Object(f.jsx)(ee,{})}),Object(f.jsx)(r.b,{path:"*",element:Object(f.jsx)(te,{})})]})})})})};a.a.render(Object(f.jsx)(ce,{}),document.getElementById("root"))}]),[[54,1,2]]]);
//# sourceMappingURL=main.e802048b.chunk.js.map